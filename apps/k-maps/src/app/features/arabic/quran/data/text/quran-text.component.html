<div class="quran-text">

  
  <div *ngIf="error" class="alert alert-danger py-2">{{ error }}</div>

  <div class="quran-tabs-row">
    <div class="quran-tabs">
      <button
        type="button"
        *ngFor="let tab of tabs"
        class="quran-tab"
        [class.active]="activeTab === tab.id"
        (click)="setTab(tab.id)"
      >
        {{ tab.label }}
      </button>
    </div>
    <div class="quran-sort">
      <span>Sort by:</span>
      <select [(ngModel)]="sort" (change)="applyFilters()">
        <option value="asc">Ascending</option>
        <option value="desc">Descending</option>
      </select>
    </div>
  </div>

  <div class="quran-text-content" *ngIf="activeTab === 'surah'; else comingSoon">
    <section class="surah-panel">
      <div class="panel-header">
        <div>
          <h3>Surah Directory</h3>
          <p class="text-muted">{{ filteredSurahs.length }} surahs</p>
        </div>
      </div>

      <div *ngIf="loadingSurahs" class="text-body-secondary">Loading surahs…</div>

      <div class="surah-grid" *ngIf="!loadingSurahs">
        <button
          type="button"
          class="surah-card"
          *ngFor="let surah of filteredSurahs; trackBy: trackBySurah"
          (click)="openSurah(surah)"
        >
          <div class="surah-badge">
            <span>{{ surah.surah }}</span>
          </div>
          <div class="surah-info">
            <div class="surah-title">{{ surah.name_en || 'Surah ' + surah.surah }}</div>
            <div class="surah-translation">{{ surah.meta['english_name_translation'] || '—' }}</div>
            <div class="surah-ayahs">{{ surah.ayah_count || '—' }} Ayahs</div>
          </div>
          <div class="surah-arabic arabic-text">{{ surah.name_ar }}</div>
        </button>
      </div>
    </section>
  </div>

  <ng-template #comingSoon>
    <section class="surah-panel">
      <div class="panel-header">
        <div>
          <h3>Coming soon</h3>
          <p class="text-muted">Juz and additional index views will land here.</p>
        </div>
      </div>
    </section>
  </ng-template>

</div>
